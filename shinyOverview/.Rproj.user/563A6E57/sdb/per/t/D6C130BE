{
    "collab_server" : "",
    "contents" : "library(ggplot2)\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(scales)\nlibrary(treemap)\nlibrary(googleVis)\nlibrary(RColorBrewer)\nlibrary(ggthemes)\n\n\nkentuckyTopOccupationsData <- read.csv(\"kentuckyStateTopOccupations.csv\")\n\nkentuckyTopOccupationsData$Openings.in.Top.Occupations <- str_replace_all(\n       kentuckyTopOccupationsData$Openings.in.Top.Occupations, \n       \",\",\"\")\nkentuckyTopOccupationsData$Openings.in.Top.Occupations <- as.numeric(as.character(kentuckyTopOccupationsData$Openings.in.Top.Occupations))\nkentuckyTopOccupationsData$Sector.Occupation <- as.character(kentuckyTopOccupationsData$Sector.Occupation)\n\n\n###################################################### FUNCTIONS\nfilterAndPlot <- function(occupationOrSector, whiteNumber) {\n              topOccupationsData <- kentuckyTopOccupationsData %>% \n                                                 filter(Type == occupationOrSector)\n              \n              outlier <- ifelse(topOccupationsData$Openings.in.Top.Occupations > whiteNumber, '#D6D8DE', '#36454f')\n              \n              ggplot(topOccupationsData,     aes(x = reorder(Sector.Occupation, Openings.in.Top.Occupations), \n                                                 y     = Openings.in.Top.Occupations, \n                                                 fill  = Sector.Occupation, \n                                                 label = Openings.in.Top.Occupations)) +\n                     geom_bar(stat    = 'identity', \n                              width   = .7)             +\n                     scale_fill_hue(c = 45, \n                                    l = 45)             +\n                     coord_flip()                       +\n                     scale_y_continuous(labels = comma) +\n                     ylab(\"Number of Job Openings\")     +\n                     labs(title             = occupationOrSector)+\n                     geom_text(aes(label    = format(Openings.in.Top.Occupations, \n                                                     big.mark=\",\", \n                                                     scientific = FALSE)), \n                                             color = outlier, \n                                             size  = 6.8, \n                                             hjust = 'inward', \n                                             vjust = .4)  +\n                     theme(plot.title       = element_text(size  = 30, \n                                                           color = '#333333'), \n                           axis.title.y     = element_blank(), \n                           axis.title.x     = element_text(size  = 15, \n                                                           color = '#36454f'),\n                           axis.text.y      = element_text(size  = 18,\n                                                           color = '#333333'),\n                           axis.text.x      = element_text(size  = 17, \n                                                           color = '#333333'),\n                           axis.ticks.y     = element_blank(), \n                           panel.background = element_rect(fill = 0),\n                           legend.position  = \"none\") \n              \n       }\n\n######################################################### TREEMAP #########################################################\ntreemapMaker <- function(occupationSector) {\n       kentuckyTopOccupationsData$numberLabel <- format(kentuckyTopOccupationsData$Openings.in.Top.Occupations,\n                                                        big.mark   = \",\", \n                                                        scientific = FALSE)\n       \n       kentuckyTopOccupationsData$label       <- paste(kentuckyTopOccupationsData$Sector.Occupation, \n                                                       kentuckyTopOccupationsData$numberLabel, \n                                                       sep = \"\\n\")\n       \n       kentuckyTopOccupationsData <- kentuckyTopOccupationsData %>% \n              filter(Type == occupationSector) %>%\n              \n              treemap(kentuckyTopOccupationsData, index = c('label'), vSize = 'Openings.in.Top.Occupations', \n                      fontsize.labels = 25,\n                      border.col = 0,\n                      title = \"\",\n                      fontface.labels = 1,\n                      fontfamily.labels = \"sans\")\n}\n\n\n###### OUTPUT \ntreemapMaker('Total')\nfilterAndPlot('Healthcare', 2000)\nfilterAndPlot('Advanced Manufacturing', 2000)\nfilterAndPlot('Construction', 2000)\nfilterAndPlot('Transportation & Logistics', 2000)\nfilterAndPlot('Business & IT Services', 700)\n\n\n\n\n\n\n",
    "created" : 1476998952946.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3108316291",
    "id" : "D6C130BE",
    "lastKnownWriteTime" : 1475510249,
    "last_content_update" : 1475510249,
    "path" : "~/Desktop/rProjects/rstudioWork/stateTopOccupations/stateDataVisualization.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}